{{template "header" .}}

<h1>Edit Storage Driver</h1>


<form method="post">
    <div class="mb-3">
        <label class="form-label">Name</label>
        <input type="text" class="form-control" value="{{.storage.Name}}" disabled name="name">
    </div>

    <div class="mb-3">
        <label class="form-label">Storage Type</label>
        <select class="form-select" id="select-type" disabled name="type">
            <option value="s3">S3</option>
            <option value="local">Local</option>
        </select>
    </div>

    <div class="mb-3 form-check">
        <input class="form-check-input" type="checkbox" name="enabled" id="check-enabled">
        <label class="form-check-label">Enable</label>
    </div>

    <div class="mb-3 form-check">
        <input class="form-check-input" type="checkbox" name="allow_upload" id="check-allow-upload">
        <label class="form-check-label">Allow Upload</label>
    </div>

    <hr>

    {{ if eq .storage.Type "local"}}
    <div class="mb-3">
        <label class="form-label">Path</label>
        <input type="text" class="form-control" value="{{.config.path}}" name="config_path">
    </div>
    {{ end }}

    <button class="btn btn-primary">Save</button>
</form>

<script>
    document.getElementById("select-type").value = "{{.storage.Type}}";
    document.getElementById("check-enabled").checked = "{{.storage.Enabled}}" === "true";
    document.getElementById("check-allow-upload").checked = "{{.storage.AllowUpload}}" === "true";
</script>

{{template "footer"}}