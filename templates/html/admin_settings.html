{{template "header" .}}

{{template "unverified_email" .}}

<h1>Admin Settings</h1>

<form method="post" action="/admin/settings">

    {{template "csrf" .csrf_token}}

    <!-- captcha -->
    <div class="mb-3">
        <label class="form-label">CAPTCHA</label>
        <select id="select-captcha" class="form-select" name="CAPTCHA">
            <option value="recaptcha">reCAPTCHA</option>
            <option value="none">Disabled</option>
        </select>
    </div>

    <div class="mb-3">
        <label class="form-label">reCAPTCHA Client</label>
        <input type="text" class="form-control" name="RECAPTCHA_CLIENT" value="{{.setting.RECAPTCHA_CLIENT}}">
        <div class="form-text">The client key for Google's reCAPTCHA service.</div>
    </div>

    <div class="mb-3">
        <label class="form-label">reCAPTCHA Server</label>
        <input type="text" class="form-control" name="RECAPTCHA_SERVER" value="{{.setting.RECAPTCHA_SERVER}}">
        <div class="form-text">The server key for Google's reCAPTCHA service.</div>
    </div>

    <!-- site settings -->
    <div class="mb-3">
        <label class="form-label">Site URL</label>
        <input type="text" class="form-control" name="SITE_URL" value="{{.setting.SITE_URL}}">
        <div class="form-text">Public URL for your site, excluding the trailing slash(/)</div>
    </div>

    <div class="mb-3">
        <label class="form-label">Site Name</label>
        <input type="text" class="form-control" name="SITE_NAME" value="{{.setting.SITE_NAME}}">
    </div>

    <!-- auth -->
    <div class="mb-3">
        <label class="form-label">Sign up</label>
        <select id="select-register" class="form-select" name="ALLOW_REGISTER">
            <option value="true">Enabled</option>
            <option value="false">Disabled</option>
        </select>
    </div>

    <!-- google oauth -->
    <div class="mb-3">
        <label class="form-label">Google Sign In</label>
        <select id="select-google-signin" class="form-select" name="GOOGLE_SIGNIN">
            <option value="true">Enabled</option>
            <option value="false">Disabled</option>
        </select>
    </div>

    <div class="mb-3">
        <label class="form-label">Google Client ID</label>
        <input type="text" class="form-control" name="GOOGLE_CLIENT_ID" value="{{.setting.GOOGLE_CLIENT_ID}}">
    </div>

    <div class="mb-3">
        <label class="form-label">Google Secret</label>
        <input type="text" class="form-control" name="GOOGLE_SECRET" value="{{.setting.GOOGLE_SECRET}}">
    </div>

    <!-- github oauth -->
    <div class="mb-3">
        <label class="form-label">Github Sign In</label>
        <select id="select-github-signin" class="form-select" name="GITHUB_SIGNIN">
            <option value="true">Enabled</option>
            <option value="false">Disabled</option>
        </select>
    </div>

    <div class="mb-3">
        <label class="form-label">Github Client ID</label>
        <input type="text" class="form-control" name="GITHUB_CLIENT_ID" value="{{.setting.GITHUB_CLIENT_ID}}">
    </div>

    <div class="mb-3">
        <label class="form-label">Github Secret</label>
        <input type="text" class="form-control" name="GITHUB_SECRET" value="{{.setting.GITHUB_SECRET}}">
    </div>

    <!-- upload settings -->
    <div class="mb-3">
        <label class="form-label">Maximum Image Size (bytes)</label>
        <input type="text" class="form-control" name="MAX_IMAGE_SIZE" value="{{.setting.MAX_IMAGE_SIZE}}">
        <div class="form-text">The maximum size for uploaded images in bytes</div>
    </div>

    <div class="mb-3">
        <label class="form-label">Maximum Guest Upload Duration (seconds)</label>
        <input type="text" class="form-control" name="GUEST_MAX_TIME" value="{{.setting.GUEST_MAX_TIME}}">
        <div class="form-text">The duration in seconds that images uploaded by guests will be retained before automatic deletion. Enter '0' to disable this limit.</div>
    </div>

    <div class="mb-3">
        <label class="form-label">Maximum User Upload Duration (seconds)</label>
        <input type="text" class="form-control" name="USER_MAX_TIME" value="{{.setting.USER_MAX_TIME}}">
        <div class="form-text">The duration in seconds that images uploaded by registered users will be retained before automatic deletion. Enter '0' to disable this limit.</div>
    </div>

    <div class="mb-3">
        <label class="form-label">Guest Upload</label>
        <select id="select-guest-upload" class="form-select" name="GUEST_UPLOAD">
            <option value="true">Enabled</option>
            <option value="false">Disabled</option>
        </select>
    </div>

    <script>
        document.getElementById("select-register").value = "{{.setting.ALLOW_REGISTER}}";
        document.getElementById("select-guest-upload").value = "{{.setting.GUEST_UPLOAD}}";
        document.getElementById("select-captcha").value = "{{.setting.CAPTCHA}}";
        document.getElementById("select-google-signin").value = "{{.setting.GOOGLE_SIGNIN}}";
        document.getElementById("select-github-signin").value = "{{.setting.GITHUB_SIGNIN}}";
    </script>

    <div class="mb-3">
        <button type="submit" class="btn btn-primary">Submit</button>
    </div>
    

</form>


{{template "footer"}}